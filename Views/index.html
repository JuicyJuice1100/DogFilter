<!doctype html>
<html ng-app="DogFilter">
    <head>
        <title>Dog Filter</title>
        <link rel="icon" type="image/png" href="https://png.icons8.com/windows/50/000000/doge.png">
        <!-- Meta Data -->
        <meta charset="UTF-8">
        <meta name="description" content="Filter for Dog.API">
        <meta name="keywords" content="HTML, CSS, JavaScript, AngularJS">
        <meta name="author" content="Justin L. Espiritu">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">


        <!-- Angular Library -->
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.5/angular.min.js"></script>
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.5/angular-animate.min.js"></script>

        <!-- Javascript Files -->
        <script type="text/javascript" src="../Scripts/Dogs.js"></script>

        <script type="text/javascript" src="../Scripts/Dogs/DogsController.js"></script>
        <script type="text/javascript" src="../Scripts/Dogs/DogsFactory.js"></script>
        <script type="text/javascript" src="../Scripts/Dogs/DogsServices.js"></script>

        <script type="text/javascript" src="../Scripts/Images/ImageFactory.js"></script>

        <script type="text/javascript" src="../Scripts/Helper/HelperFactory.js"></script>

        <!-- Style Sheets -->
        <link rel="stylesheet" href="../Styles/LargeMedia.css">
        <link rel="stylesheet" href="../Styles/SmallMedia.css">
    </head>
    <body>
        <div ng-controller="DogsController as dogs">
            <!-- Filter Search Textbox-->
            <div id="searchbar">
                <form ng-submit="dogs.getBreedImages(dogs.dogsFactory.search)" novalidate>
                    <input ng-change="dogs.reset()" type="text" ng-model="dogs.dogsFactory.search" placeholder="Search for a dog breed...">
                </form>

                <!-- Validation Message -->
                <div class="validation" ng-show="dogs.helperFactory.validation.showInvalidBreedMessage">
                    <span>{{dogs.helperFactory.validation.invalidBreedMessage}}</span>
                </div>
            </div>

            <div id="container">
                <div id="sidebar">
                    <!-- List of Filtered Breeds -->
                    <div>
                        <ul>
                            <li ng-repeat="breed in dogs.dogsFactory.breeds | filter : dogs.dogsFactory.searched">
                                <span ng-click="dogs.getBreedImages(breed.name)">{{breed.name}}</span>
                            </li>
                        </ul>
                    </div>
                </div>
                
                <!-- Images of Selected Breed -->
                <div id="imageSpace">
                    <!-- Loading image -->
                    <span class="loading" ng-show="dogs.helperFactory.loading.isLoading">
                        <img ng-src="{{dogs.helperFactory.loading.image}}" ng-alt="{{dogs.helperFactory.loading.alt}}">
                    </span>
                    <ul ng-hide="dogs.helperFactory.loading.isLoading">
                        <li ng-repeat="image in dogs.imageFactory.breedImages">
                            <img ng-src="{{image.link}}" ng-alt="{{image.link}}">
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </body>
</html>